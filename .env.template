# AP2-Native Agent Payment Gateway - Environment Configuration Template
# Copy this file to .env and replace all TODO(human) placeholders with actual values

# ===========================
# Application Configuration
# ===========================
NODE_ENV=development
PORT=3000

# ===========================
# Database Configuration
# ===========================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database?schema=public
DATABASE_URL=postgresql://neondb_owner:npg_StjDvl9BQH1k@ep-winter-sky-adoaojtm-pooler.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# Example for local development:
# DATABASE_URL=postgresql://postgres:password@localhost:5432/ap2_gateway?schema=public

# Example for Neon (serverless Postgres):
# DATABASE_URL=postgresql://username:password@ep-xxx.us-east-2.aws.neon.tech/ap2_gateway?sslmode=require

# Example for Railway:
# DATABASE_URL=postgresql://postgres:password@containers-us-west-xxx.railway.app:7432/railway

# ===========================
# Stripe Configuration (TEST MODE ONLY)
# ===========================
# Stripe test secret key (must start with sk_test_)
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=TODO(human)

# Stripe webhook secret for signature verification (must start with whsec_)
# Get from: https://dashboard.stripe.com/test/webhooks
# Configure webhook endpoint: POST https://your-domain.com/webhooks/stripe
# Events to listen: payment_intent.succeeded, payment_intent.payment_failed
STRIPE_WEBHOOK_SECRET=TODO(human)

# ===========================
# Cryptographic Keys
# ===========================
# Ed25519 private key for signing mandates (hex or base64 encoded, min 64 chars)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
MANDATE_SIGN_KEY=12eaf01b08e59e17abf10f582627defb774713dfeebf730bb28018b5d0d1be71

# JWT secret for authentication tokens (min 32 chars)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=34b00ec1325d691d0f27fd46b9eca4bf83373095a81ae6491f6c8fa86574e5f9

# ===========================
# CORS Configuration
# ===========================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# For production, use your actual domain:
# ALLOWED_ORIGINS=https://app.yourcompany.com,https://admin.yourcompany.com

# ===========================
# Cashfree Configuration (SANDBOX MODE)
# ===========================
# Cashfree sandbox credentials from Dev Studio
# Get from: https://www.cashfree.com/devstudio/
CASHFREE_APP_ID=TEST430329ae80e0f32e41a393d78b923034
CASHFREE_SECRET_KEY=TESTaf195616268bd6202eeb3bf8dc458956e7192a85
CASHFREE_ENV=sandbox
CASHFREE_API_VERSION=2025-01-01
CASHFREE_API_URL=https://sandbox.cashfree.com/pg

# Note: Contact care@cashfree.com to enable S2S and PCI DSS flags for sandbox
# Required for server-to-server payments and card processing

# ===========================
# x402 Protocol Configuration
# ===========================
# Maximum timeout for x402 requests (milliseconds)
X402_TIMEOUT_MS=5000

# Maximum payment amount for x402 protocol (in minor units)
X402_MAX_AMOUNT=200

# ===========================
# Logging and Monitoring
# ===========================
# Log level: fatal | error | warn | info | debug | trace
LOG_LEVEL=info

# Enable detailed request logging (true/false)
ENABLE_REQUEST_LOGGING=true

# ===========================
# Development-Only Settings
# ===========================
# Set to true to seed database with test data on startup
ENABLE_DB_SEED=false

# Set to true to enable hot reload in development
ENABLE_HOT_RELOAD=true
